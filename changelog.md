Totara Mobile App Changelog

# Release 2.0 (27th September 2024):

Improvement
[MOB-1272] Replatform app for use with Expo with RN 0.74.5

New dependencies

- @config-plugins/detox (8.0.0)
- @dr.pogodin/react-native-fs (2.27.1)
- @eslint/eslintrc (3.1.0)
- @eslint/js (9.6.0)
- @expo/vector-icons (14.0.2)
- @graphql-tools/mock (9.0.3)
- @notifee/react-native (7.8.2)
- @react-native-community/eslint-config (3.2.0)
- @react-native-cookies/cookies (6.2.1)
- @react-navigation/bottom-tabs (6.6.0)
- @types/jest (29.5.12)
- @xmldom/xmldom (0.8.10)
- apollo-server-express (3.13.0)
- app-icon-badge (0.0.15)
- eslint-plugin-simple-import-sort (12.1.1)
- eslint-plugin-unicorn (54.0.0)
- expo (51.0.32)
- expo-asset (10.0.10)
- expo-build-properties (0.12.5)
- expo-constants (16.0.2)
- expo-dev-client (4.0.25)
- expo-font (12.0.10)
- expo-image (1.12.15)
- expo-linking (6.3.1)
- expo-splash-screen (0.27.5)
- expo-status-bar (1.12.1)
- expo-system-ui (3.0.7)
- expo-web-browser (13.0.3)
- get-graphql-schema (2.1.2)
- globals (15.8.0)
- jest-expo (51.0.4)
- react-native-flash-message (0.4.2)
- react-native-sensitive-info (5.5.1)
- react-native-web (0.19.12)
- typescript-eslint (7.16.0)
- unzipper (0.12.3)

Removed dependencies

- @babel/preset-env (7.20.2)
- @babel/runtime (7.21.0)
- @codler/react-native-keyboard-aware-scroll-view (2.0.1)
- @fortawesome/fontawesome-svg-core (1.3.0)
- @fortawesome/free-brands-svg-icons (5.15.4)
- @fortawesome/free-solid-svg-icons (5.15.4)
- @fortawesome/react-native-fontawesome (0.2.7)
- @react-native-cookies/cookies (6.0.11)
- @react-native/eslint-config (0.72.2)
- @react-native/metro-config (0.72.11)
- @react-navigation/compat (5.3.20)
- @react-navigation/material-bottom-tabs (5.3.19)
- @sentry/react-native (5.0.0)
- @testing-library/react-hooks (8.0.1)
- @tsconfig/react-native (3.0.2)
- @types/eslint (8.56.3)
- @types/i18n-js (3.8.2)
- @types/jasmine (3.10.3)
- @types/react-native (0.66.16)
- @types/react-native-snap-carousel (3.8.5)
- @types/react-native-video (5.0.12)
- @types/react-redux (7.1.22)
- @types/redux-logger (3.0.9)
- @typescript-eslint/parser (7.0.2)
- @wojtekmaj/enzyme-adapter-react-17 (0.6.6)
- apollo-link-logger (1.2.3)
- babel-jest (29.7.0)
- download (8.0.0)
- enzyme (3.11.0)
- eslint-config-prettier (6.15.0)
- eslint-plugin-jest (27.9.0)
- identity-obj-proxy (3.0.0)
- jest-enzyme (7.1.2)
- jest-junit (8.0.0)
- metro-react-native-babel-preset (0.73.7)
- native-base (2.15.2)
- prettier (2.8.4)
- prop-types (15.8.1)
- react-native-config (1.4.5)
- react-native-elements (3.4.2)
- react-native-fast-image (8.6.3)
- react-native-fs (2.19.0)
- react-native-paper (4.11.2)
- react-native-sensitive-info@https://github.com/mCodex/react-native-sensitive-info.git#commit=1575f8992ff7113443199bce5a3fb1e11392878d (5.5.1)
- react-native-snap-carousel (3.9.1)
- react-native-vector-icons (10.0.0)
- react-native-view-pdf (0.11.1)
- recompose (0.30.0)
- typescript@patch:typescript@npm%3A4.8.4#optional!builtin<compat/typescript>::version=4.8.4&hash=1a91c8 (4.8.4)
- webpack (5.69.1)
- webpack-cli (4.9.2)
- xmldom (0.3.0)
- yauzl-promise (4.0.0)

Upgraded dependencies

- @apollo/client (3.5.9 -> 3.10.8)
- @babel/core (7.21.0 -> 7.24.7)
- @dr.pogodin/react-native-static-server (0.7.10 -> 0.15.0)
- @gorhom/bottom-sheet (4.5.1 -> 4.6.3)
- @react-native-async-storage/async-storage (1.16.1 -> 1.23.1)
- @react-native-community/netinfo (5.9.10 -> 11.3.1)
- @react-native-firebase/app (18.7.1 -> 20.5.0)
- @react-native-firebase/messaging (18.7.1 -> 20.5.0)
- @react-navigation/native (5.9.8 -> 6.1.17)
- @react-navigation/stack (5.14.9 -> 6.4.0)
- @testing-library/react-native (12.4.3 -> 12.5.1)
- @types/react (18.0.28 -> 18.2.79)
- @types/react-test-renderer (18.0.0 -> 18.3.0)
- @typescript-eslint/eslint-plugin (7.0.2 -> 7.16.0)
- apollo3-cache-persist (0.9.1 -> 0.15.0)
- date-fns (2.29.3 -> 3.6.0)
- detox (17.14.9 -> 20.25.1)
- eslint-plugin-prettier (3.4.1 -> 5.1.3)
- eslint-plugin-react (7.33.2 -> 7.34.3)
- express (4.17.3 -> 4.21.0)
- graphql (15.8.0 -> 15.9.0)
- i18n-js (3.8.0 -> 4.4.3)
- jest (29.4.3 -> 29.7.0)
- moment (2.29.1 -> 2.30.1)
- react-dom (17.0.2 -> 18.2.0)
- react-native (0.72.7 -> 0.74.5)
- react-native-animatable (1.3.3 -> 1.4.0)
- react-native-device-info (10.12.0 -> 11.1.0)
- react-native-gesture-handler (2.9.0 -> 2.16.2)
- react-native-linear-gradient (2.5.6 -> 2.8.3)
- react-native-localize (1.4.3 -> 3.2.0)
- react-native-orientation-locker (1.4.0 -> 1.7.0)
- react-native-progress (5.0.0 -> 5.0.1)
- react-native-reanimated (3.3.0 -> 3.10.1)
- react-native-safe-area-context (4.8.0 -> 4.10.5)
- react-native-screens (3.18.2 -> 3.31.1)
- react-native-skeleton-placeholder (4.0.0 -> 5.2.4)
- react-native-svg (12.1.1 -> 15.2.0)
- react-native-view-more-text (2.1.0 -> 2.2.0)
- react-native-webview (11.26.1 -> 13.8.6)
- react-native-zip-archive (6.0.6 -> 6.1.2)
- react-redux (7.2.6 -> 7.2.9)
- redux (4.1.2 -> 4.2.1)
- ts-jest (29.1.1 -> 29.2.2)
- typescript (4.8.4 -> 5.1.1)
- xpath (0.0.27 -> 0.0.34)

# Release 1.2 (12th April 2024):

Bug
[MOB-1221] Error on iOS for downloaded SCORM activity
[MOB-1222] Default notification text size is very small making it difficult to read
[MOB-1223] Non mobile-friendly courses accessible from catalogue in Totara Mobile app
[MOB-1227] Language is not switched correctly
[MOB-1228] Users language is not being picked up in activity access restrictions
[MOB-1229] Update login page URL for browser-based logins
[MOB-1244] Mobile development environment errors due to buggy zip extraction
[MOB-1235] RN 0.72.7 - Android SDK 33(Android 13)
[MOB-1245] Upgrade webview for compatibility with RN 0.72.7
[MOB-1246] Upgrade to latest Firebase library - for compatibility with 0.72.7
[MOB-1247] Upgrade subsequent NPM dependencies as required - RN 0.72.7 compatibility
[MOB-1249] Make Mobile code compatible with Node@20/21

# Release 1.1.12 (11th April 2023):

Bug
[MOB-1207] - Some language strings are not translated
[MOB-1208] - Fix iOS when attempting to communicate with the camera
[MOB-1209] - Hidden Access restriction condition displayed

# Release 1.1.11 (13th Mar 2023):

Bug
[MOB-1187] - Certificates dont download in mobile app
[MOB-1189] - Error when accessing SCORM that has been downloaded in mobile app

# Release 1.1.10 (24th Nov 2022):

Bug
MOB-1168 - Links in notifications are not clickable
MOB-1174 - Cannot sync SCORM data
MOB-1175 - [iOS] "Mobile browser" authentication doesn't work

Task
MOB-1095 - Upgrade Jenkins machine to Xcode 13 and Mac OS Monterey if needed

Improvement
MOB-1176 - Unit test review for Session Container component

# Release 1.1.9 (22nd Jun 2022):

Bug
MOB-1137 - [Sentry report] - CourseGroupDetails component crashes when returns null
MOB-1144 - Video file resource doesn't open in mobile app
MOB-1150 - Debounce sequence of downloads
MOB-1151 - Android PDF viewing stopped working in 1.1.6
MOB-1153 - Characters in notifications titles should not show as HTML entities

Improvement
MOB-1140 - Remove http access for Android devices
MOB-1155 - Fullscreen should be allowed in Android Webviews

# Release 1.1.8 (16th May 2022):

Bug
[MOB-1147] - Sentry issue - typeError Cannot read property 'statusCode' of undefined

Improvement
[MOB-1141] - Android - Move api key to keystore
[MOB-1143] - Bump android version so Janus security vulnerability concerns are addressed

# Release 1.1.7 (3rd May 2022):

Bug
[MOB-1135] - [Sentry report] App crashes when profileImage field is empty
[MOB-1138] - [Sentry report] App crashes for Android resuming download
[MOB-1139] - Find Learning - guest access should work for all cases
[MOB-1146] - Runtime exception on Sentry report

Improvement
[MOB-1105] - Unavailable courses should be greyed out

# Release 1.1.6 (30th March 2022):

Bug
[MOB-1106] - Missing lang string in Totara Mobile

Improvement
[MOB-803] - Upgrade React Native lib to 0.67
[MOB-1061] - Write Doc for How to contribute to the code base using our best practices and
standards
[MOB-1086] - Make Firebase & Sentry configurations easier and clearer
[MOB-1087] - Add unit test for AuthenticatedWebview, WebviewWrapper
[MOB-1088] - Clarify .env documentation questions and doc location
[MOB-1091] - Incompatibility with Xcode 13 and Xcode 12.5
[MOB-1102] - Include App Bundle release option for the mobile app
[MOB-1108] - Getting Started - Login screen navigation
[MOB-1109] - Navigating Current Learning - Program and Course
[MOB-1122] - Make sure the main unit tests are still green
[MOB-1127] - Fix render timeout unit tests issues

Technical documentation
[MOB-1085] - Add detailed environment setup section in our public dev docs

# Release 1.1.5 (15th March 2022):

Bug
[MOB-1099] - Due date display for programs and certifications is incorrect
[MOB-1107] - SCORM video is not playing on iOS
[MOB-1128] - Mobile app loses site settings when no connection to the internet

Improvement
[MOB-1102] - Include App Bundle release option for the mobile app

# Release 1.1.4 (21st Jan 2022):

Bug
[MOB-1026] - Topic sections not displayed in Mobile if no activities
[MOB-1067] - Update detox schema data file so the Automated test is back working
[MOB-1081] - Webview login show error for Android login

Improvement
[MOB-1072] - Notification error unit test
[MOB-1073] - Profile-test file TODO: Unable to find node on an unmounted component
[MOB-1074] - Authentication unit testing low coverage
[MOB-1077] - Detox tests should not break when app is logged-in
[MOB-1080] - Enable Find Learning (Catalogue) to be configurable
[MOB-1082] - Authentication unit testing for user login

# Release 1.1.3 (6th Dec 2021):

Bug
[MOB-1076] - Android App cannot be opened(in a few devices) due to sentry lib issue

# Release 1.1.2 (2nd Dec 2021):

Improvement
[MOB-1063] - Remove xhr events in breadcrumbs data from Sentry

# Release 1.1.1 (26th Nov 2021):

Bug
[MOB-1035] - When server returns 500, try again button crashes the App
[MOB-1037] - Mobile friendly course summary adds extra characters in mobile app
[MOB-1039] - Not possible to scroll or move to selected field in webview
[MOB-1046] - Unable to load more than 20 courses in find learning
[MOB-1052] - When server returns 500, the app shows wrong "network message"
[MOB-1053] - Findlearning view and filter query pointer should use responce pointer value for paggination
[MOB-1064] - Profile screen gets to a "try again screen" when the servers crashes
[MOB-1066] - App should continue deregistering mobile devices when logging out

Improvement
[MOB-1043] - Update Android target to API level 30
[MOB-1056] - Secure storage API key in the encrypted storage

# Release 1.1 (19th Oct 2021):

New Feature
[MOB-948] - Create a new bottom tab item and dummy page
[MOB-960] - Find Learning: Loading state
[MOB-961] - Find Learning: Result tiles for courses, resources and playlists
[MOB-962] - Find Learning: Course overview modal
[MOB-973] - Backend integration with Find learning screen
[MOB-983] - Enrolment Options - data integration
[MOB-984] - Enrolment Options - Enrol/Go to course

Bug
[MOB-986] - 'Current learning' page empty state: Link to Find learning in the app
[MOB-987] - Find learning: Cache not cleared when reseting search
[MOB-989] - Find learning: 4 issues with tiles
[MOB-990] - Find learning default view is empty
[MOB-997] - Skeleton placeholders design
[MOB-1004] - Find learning tiles pane is too short
[MOB-1008] - Course overview modal is rendering the course summary incorrectly
[MOB-1027] - Mobile app crashes when acessing a course
[MOB-1029] - Adjust guest password validation
[MOB-1031] - 'Find learning' link in Current learning empty state in t13/t14 leads to dashboard

Task
[MOB-998] - Review default images
[MOB-1016] - Test web view changes for Totara 13 and 14

Improvement
[MOB-952] - Refine design of Bottom Tab Bar based on DES-645
[MOB-965] - REFACTOR: Decouple course access from current learning
[MOB-967] - Course overview - data integration
[MOB-970] - Remove react-native-safe-area-view lib
[MOB-971] - Overview Modal full scroll mode
[MOB-975] - Pagination/Infinite scrolling improvement and Unit test
[MOB-976] - Enrolment options modal
[MOB-982] - Show/hide find learning in the app based on backend availability
[MOB-1000] - Resources view
[MOB-1001] - Playlist view

# Release 1.0.13 (15th Oct 2021):

Bug
[MOB-1012] - Autoplaying embedded video in resource webview
[MOB-1024] - SCORM stopped working for some packages
[MOB-1027] - Mobile app crashes when accessing a course
[MOB-1028] - App crashes when clicking on a link in a course

Improvement
[MOB-1025] - Fix Android core lib version to a stable version

# Release 1.0.12 (27th Aug 2021):

Bug
[MOB-805] - Not all logging present in Totara Mobile
[MOB-913] - implementing promise handler when user logout
[MOB-920] - Videos embedded in the mobile app do not display correctly unless made full screen
[MOB-942] - Expanding weka content activity should not show warning
[MOB-944] - Characters in course activity section titles should not show as HTML entities
[MOB-956] - Error in courses list info inside a program or certificate set
[MOB-969] - Navigation to Course in program is not working
[MOB-972] - App should show course overview
[MOB-977] - Versions information not showing corectly
[MOB-980] - Learning items view list translation error
[MOB-988] - Remove console logs
[MOB-1005] - Additional Actions not working
[MOB-1009] - When user log into the app it should set correct session data

Improvements
[MOB-786] - Authentication flow should use Navigation API instead of switching components in one screen
[MOB-927] - App state handling
[MOB-945] - Navigation API for webview login
[MOB-946] - Navigation API for browser login
[MOB-953] - Add support for Fastlane, run builds and code signing easier
[MOB-954] - Auth Code Review
[MOB-1006] - Create Core query

# Release 1.0.11 (17th Jun 2021):

Bug
[MOB-934] - Overdue date should be shown in the course detail screen on iPhone
[MOB-935] - There is extra space after the scroll bar indicator in Learning item
[MOB-937] - "Mobile browser" authentication doesn't work
[MOB-940] - Put a limit on the Bullet/ordered list levels
[MOB-931] - SCORM landscape should be full screen and show responsive content

Improvements
[MOB-806] - Restructuring weka viewer
[MOB-899] - Instructions for developers so we are able to log out in dev mode
[MOB-925] - When completing a activity from within the app it does not update the completion state immediately
[MOB-928] - Refactoring Styles to the new weka viewer
[MOB-930] - The app crash when SCORM package is used after the download

# Release 1.0.10 (26th May 2021):

Bug
[MOB-911] - SCORM content not displayed in landscape view in mobile app
[MOB-905] - Course sections without activities
[MOB-922] - Loading spinner in Course details is not working
[MOB-923] - Tapping on a PN pop up doesn't go to the target notification
[MOB-904] - Cannot open link within PDF file on Android devices

Task
[MOB-900] - Language in Mobile app seems to be dependant on language detection
[MOB-912] - Investigate why some SCORM packages are not navigable on Webviews

Improvements
[MOB-796] - Refine focus order in all screens(Discovery)
[MOB-819] - Embedded Media(Audio/Video) should show in the inline-player
[MOB-895] - Mocked server for Native login flow

Technical documentation
[MOB-919] - Improve release documentation

# Release 1.0.9 (30th March 2021):

Bug
[MOB-804] - File view does not trigger completion in Totara Mobile
[MOB-901] - Statusbar color does not return to default color when switching tabs
[MOB-910] - iOS app should receive push notification
[MOB-915] - SCORM type activity does not save state or register attempt in the app

Improvement
[MOB-870] - Implement Detox test cases for scorm
[MOB-879] - Detox with mocked server for Current Learning
[MOB-888] - Remove LinkMedia description in WekaViewEditor
[MOB-898] - Move testing credentials to local config file
[MOB-903] - If the mobile app is logged out of any downloaded SCORMs are deleted.

Technical documentation
[MOB-887] - Review technical documentation on the mobile side for PN

# Release 1.0.8 (05th March 2021):

Bug
[MOB-883] - In-app notification not appearing until bell icon is selected and refresh the list
[MOB-893] - Activities should not crash when the list of activities has a video
[MOB-891] - Force password change does not redirect user to browser and prevents login to Totara Mobile app

Improvement
[MOB-882] - Reshape Learning Details header
[MOB-885] - Images added in the WEKA text editor do not scale down correctly when viewed on the mobile app
[MOB-890] - Use `fullmessageHTML` field in notifications when the format is HTML

# Release 1.0.7 (29th January 2021):

Bug
[MOB-880] - translations falls back to english

# Release 1.0.6 (20th January 2021):

Bug
[MOB-380] - Change password while using the app
[MOB-749] - Should return keyboard while showing Incompatible site url modal
[MOB-775] - Tertiary button colour is not aligned with the design
[MOB-860] - New line on current learning cards should respect case from HTML text editor
[MOB-873] - List icon on the carousel/list switch should be rounded
[MOB-877] - Language strings are not being translated
[MOB-875] - Make languages installation script work on Windows

Task
[MOB-874] - Environment updates should be capable of project installation

Improvement
[MOB-654] - Activity sheet transition
[MOB-683] - Refactor theme within the code to map to style guide
[MOB-684] - Use native navigation elements where possible
[MOB-822] - Check message format for Notifications details
[MOB-841] - Set up webview in notification details so I can see the notification content
[MOB-853] - Implement Detox test cases for programs/certification
[MOB-854] - Implement Detox test cases for user profile
[MOB-872] - (Discovery) Detox work with mock data instead of real API data

# Release 1.0.5 (17th December 2020):

Bug
[MOB-859] - Cannot download SCORM activity after you submit answers
[MOB-861] - Couser layout should remains as expected when switch back from landscape activities

Task
[MOB-813] - Check for copied code that doesn’t comply with our licenses
[MOB-865] - Upload release 1.0.4 to beta distribution(testflight/Gplay)
[MOB-867] - Upload release 1.0.5 to beta distribution(testflight/Gplay)

Improvement
[MOB-620] - In-App notifications auto refresh
[MOB-792] - Layout is broken when font size is changed
[MOB-794] - No voice over for manual and auto completion check boxes
[MOB-795] - No voice over for download icon in SCORm summary screen
[MOB-797] - Accessibility property for all the images
[MOB-823] - Set up react navigation library compatibility module
[MOB-850] - Implement Detox test cases for authentication
[MOB-851] - Implement Detox test cases for current learning ( iOS set up only )
[MOB-858] - Update header of API calls to use X-API-Key instead of authorisation header
[MOB-864] - Reset badge in the App icon when reading a notification

# Release 1.0.4 (3rd December 2020):

Bug
[MOB-855] - Notifications list must update time automatically

Improvement
[MOB-475] - App Internal/external Distribution change
[MOB-620] - In-App notifications auto refresh
[MOB-682] - Refine tabs
[MOB-721] - UI - Pressed state for cards
[MOB-791] - No voice over for the current learning switch
[MOB-793] - No voice over for expand all switch
[MOB-794] - No voice over for manual and auto completion check boxes
[MOB-848] - Run Axe report to check the accessibility issues
[MOB-850] - Implement Detox test cases for authentication
[MOB-851] - Implement Detox test cases for current learning

# Release 1.0.3 (18th November 2020):

Bug  
[MOB-834] - Images/Icons not showing on iOS 14 devices

Task
[MOB-561] - [Discovery] Orientation Portrait/Landscape

Improvement  
[MOB-778] - Summary Weka text should be shown in the current learning cards
[MOB-836] - App updates must target Android 10 (API level 29) or higher
[MOB-840] - Enable dynamic orientation for all activities

# Release 1.0.0 (23th September 2020):

Bug  
[MOB-753] - Single activity course UI refinements  
[MOB-757] - Activity should stay as expanded after user tap on manual completion  
[MOB-765] - Learning item summary text should show tidied up in the carousel item  
[MOB-768] - Course from a course set is not being loaded  
[MOB-773] - Show loading for the pdf activity

Improvement  
[MOB-751] - Use semantic version to communicate min version  
[MOB-779] - Upload release 1.0.0 to beta distribution(testflight/Gplay)

# Release 0.29 (09th September 2020):

Bug  
[MOB-625] - Unable to view files within webview (Android only) - no Mimetype in API  
[MOB-728] - Downloads not being cleared when user logouts  
[MOB-736] - Activity text colour is changing every time when user tap on them (even there is no action for them)  
[MOB-739] - Learning items should not be repeated in the current learning  
[MOB-742] - Empty(Null) Course group is not delt in the App and crashes the App - Sentry reports  
[MOB-758] - Course details not working because ids have changed

New Feature  
[MOB-676] - Cache last URL used to authenticate into the app  
[MOB-699] - Send token to the server  
[MOB-700] - Direct users to notifications list in the app

Task  
[MOB-730] - Remove sentryUri from main config.ts to config.local.ts

Improvement  
[MOB-415] - Every activity collapse/expand in Course UI  
[MOB-512] - Swap licenses  
[MOB-685] - Enter URL Screen: Move forgot password link below enter button  
[MOB-690] - Exit icon on SCORM summary screen should be consistent with other exit icons  
[MOB-710] - Program and Cert view more link  
[MOB-716] - UI - Default image size is not consistent  
[MOB-722] - Empty state for "All attempts grades screen"  
[MOB-727] - CourseSet: add course progress bar

# Release 0.28 (26th August 2020):

Bug  
[MOB-658] - Status bar content colour  
[MOB-695] - Android: Progress circle is cut off by the next card  
[MOB-711] - Android: Get started ui will collapse when scroll-up key board  
[MOB-712] - increase row height in the the list view of profile(very hard to press)  
[MOB-713] - Default images' borders not being applied when the listing orientation is selected  
[MOB-717] - UI - Due date overlap  
[MOB-720] - Course image is not updating  
[MOB-725] - Online scorm player dropped connection should show cached Scorm summary

Improvement  
[MOB-273] - Version negotiation after site url screen (before login) part 2  
[MOB-662] - SCORM: UX Issues  
[MOB-667] - Replace mobile imagery  
[MOB-686] - Remove borders on all cards in the app  
[MOB-689] - Current Learning: Responsive texts  
[MOB-703] - Adjust Offline message and confirm UX when it appears  
[MOB-705] - Notify user, for any activity, when the user goes offline. [DESCOPED - see comments]  
[MOB-709] - Upgrade react-native-webview  
[MOB-715] - UI - Modal height refinement  
[MOB-750] - Use build number version to communicate min version [ temporary measure ]

Technical documentation  
[MOB-572] - Firebase set up for different mob environments  
[MOB-707] - Manual User Acceptance Testing plan for Learning
